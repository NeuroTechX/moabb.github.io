
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_tutorials/tutorial_2_using_mulitple_datasets.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_auto_tutorials_tutorial_2_using_mulitple_datasets.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_tutorials_tutorial_2_using_mulitple_datasets.py:


===================================
Tutorial 2: Using multiple datasets
===================================

We extend the previous example to a case where we want to analyze the score of
a classifier with three different MI datasets instead of just one. As before,
we begin by importing all relevant libraries.

.. GENERATED FROM PYTHON SOURCE LINES 10-34

.. code-block:: default

    # Authors: Pedro L. C. Rodrigues, Sylvain Chevallier
    #
    # https://github.com/plcrodrigues/Workshop-MOABB-BCI-Graz-2019

    import warnings

    import matplotlib.pyplot as plt
    import mne
    import seaborn as sns
    from mne.decoding import CSP
    from sklearn.discriminant_analysis import LinearDiscriminantAnalysis as LDA
    from sklearn.pipeline import make_pipeline

    import moabb
    from moabb.datasets import BNCI2014001, Zhou2016
    from moabb.evaluations import WithinSessionEvaluation
    from moabb.paradigms import LeftRightImagery


    moabb.set_log_level("info")
    mne.set_log_level("CRITICAL")
    warnings.filterwarnings("ignore")









.. GENERATED FROM PYTHON SOURCE LINES 35-41

Initializing Datasets
---------------------

We instantiate the two different datasets that follow the MI paradigm
(with left-hand/right-hand classes) but were recorded with different number
of electrodes, different number of trials, etc.

.. GENERATED FROM PYTHON SOURCE LINES 41-48

.. code-block:: default


    datasets = [Zhou2016(), BNCI2014001()]
    subj = [1, 2, 3]
    for d in datasets:
        d.subject_list = subj









.. GENERATED FROM PYTHON SOURCE LINES 49-53

The following lines go exactly as in the previous example, where we end up
obtaining a pandas dataframe containing the results of the evaluation. We
could set `overwrite` to False to cache the results, avoiding to restart all
the evaluation from scratch if a problem occurs.

.. GENERATED FROM PYTHON SOURCE LINES 53-60

.. code-block:: default

    paradigm = LeftRightImagery()
    evaluation = WithinSessionEvaluation(
        paradigm=paradigm, datasets=datasets, overwrite=False
    )
    pipeline = make_pipeline(CSP(n_components=8), LDA())
    results = evaluation.process({"csp+lda": pipeline})








.. GENERATED FROM PYTHON SOURCE LINES 61-66

Plotting Results
----------------

We plot the results using the seaborn library. Note how easy it
is to plot the results from the three datasets with just one line.

.. GENERATED FROM PYTHON SOURCE LINES 66-78

.. code-block:: default


    results["subj"] = [str(resi).zfill(2) for resi in results["subject"]]
    g = sns.catplot(
        kind="bar",
        x="score",
        y="subj",
        col="dataset",
        data=results,
        orient="h",
        palette="viridis",
    )
    plt.show()



.. image:: /auto_tutorials/images/sphx_glr_tutorial_2_using_mulitple_datasets_001.png
    :alt: dataset = 001-2014, dataset = Zhou 2016
    :class: sphx-glr-single-img






.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  13.267 seconds)


.. _sphx_glr_download_auto_tutorials_tutorial_2_using_mulitple_datasets.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: tutorial_2_using_mulitple_datasets.py <tutorial_2_using_mulitple_datasets.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: tutorial_2_using_mulitple_datasets.ipynb <tutorial_2_using_mulitple_datasets.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
